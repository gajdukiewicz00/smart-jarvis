# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è WebSocket Audio Tester

–ü—Ä–∏–º–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è SmartJARVIS.

## üè† –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```json
{
  "host": "localhost",
  "port": "7090",
  "protocol": "ws",
  "autoReconnect": true,
  "maxRetries": 5
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ —Å voice-gateway.

## üê≥ Docker Compose

```json
{
  "host": "localhost",
  "port": "7090",
  "protocol": "ws",
  "autoReconnect": true,
  "maxRetries": 10
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —á–µ—Ä–µ–∑ `docker-compose up` —Å –ø—Ä–æ–±—Ä–æ—Å–æ–º –ø–æ—Ä—Ç–æ–≤.

## ‚òÅÔ∏è –ü—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä

```json
{
  "host": "voice.smartjarvis.com",
  "port": "443",
  "protocol": "wss",
  "autoReconnect": true,
  "maxRetries": 20
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –î–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞ —Å SSL/TLS —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º.

## üîí –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è —Å–µ—Ç—å

```json
{
  "host": "192.168.1.100",
  "port": "7090",
  "protocol": "ws",
  "autoReconnect": true,
  "maxRetries": 15
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –í–Ω—É—Ç—Ä–∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π —Å–µ—Ç–∏ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º IP.

## üß™ –¢–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

```json
{
  "host": "test-voice.smartjarvis.com",
  "port": "7090",
  "protocol": "wss",
  "autoReconnect": false,
  "maxRetries": 3
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.

## üöÄ –í—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

```json
{
  "host": "voice-cluster.smartjarvis.com",
  "port": "443",
  "protocol": "wss",
  "autoReconnect": true,
  "maxRetries": 50
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –î–ª—è —Å–∏—Å—Ç–µ–º —Å –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏.

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ URL:

```
http://localhost:8080/index.html?host=voice.example.com&port=443&protocol=wss&autoReconnect=true&maxRetries=10
```

## üì± –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

```json
{
  "host": "voice.smartjarvis.com",
  "port": "443",
  "protocol": "wss",
  "autoReconnect": true,
  "maxRetries": 8
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: 
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ WSS –¥–ª—è HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –£—á–∏—Ç—ã–≤–∞–π—Ç–µ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –º–æ–±–∏–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π

## üåê –ü—Ä–æ–∫—Å–∏ –∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∏

```json
{
  "host": "proxy.company.com",
  "port": "443",
  "protocol": "wss",
  "autoReconnect": true,
  "maxRetries": 12
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ WebSocket upgrade –≤ –ø—Ä–æ–∫—Å–∏
- –£–≤–µ–ª–∏—á—å—Ç–µ timeout –¥–ª—è –ø—Ä–æ–∫—Å–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É WSS –≤ –ø—Ä–æ–∫—Å–∏

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø–æ—Ä—Ç–∞

```bash
# Linux/Mac
nc -zv voice.example.com 7090

# Windows
Test-NetConnection -ComputerName voice.example.com -Port 7090
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ WebSocket

```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ wscat –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
npm install -g wscat
wscat -c ws://voice.example.com:7090/ws
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
openssl s_client -connect voice.example.com:443 -servername voice.example.com
```

## ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. CORS –æ—à–∏–±–∫–∏
```
Access to WebSocket at 'ws://voice.example.com:7090/ws' from origin 'http://localhost:8080' has been blocked by CORS policy
```
**–†–µ—à–µ–Ω–∏–µ**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ CORS –Ω–∞ voice-gateway –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–∫—Å–∏.

### 2. SSL –æ—à–∏–±–∫–∏
```
WebSocket connection to 'wss://voice.example.com:443/ws' failed
```
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ WSS.

### 3. –¢–∞–π–º–∞—É—Ç—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
```
WebSocket connection timed out
```
**–†–µ—à–µ–Ω–∏–µ**: –£–≤–µ–ª–∏—á—å—Ç–µ timeout –Ω–∞ –ø—Ä–æ–∫—Å–∏/–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–µ.

### 4. –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∫—Å–∏
```
WebSocket upgrade failed
```
**–†–µ—à–µ–Ω–∏–µ**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ WebSocket upgrade –≤ –ø—Ä–æ–∫—Å–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ws://` –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –û—Ç–∫–ª—é—á–∏—Ç–µ auto-reconnect –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ retries

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞
- –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `wss://` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –í–∫–ª—é—á–∏—Ç–µ auto-reconnect —Å —Ä–∞–∑—É–º–Ω—ã–º–∏ –ª–∏–º–∏—Ç–∞–º–∏
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ latency –∏ reconnections

### –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–µ—Ä–≤–µ—Ä—ã
- –õ–æ–≥–∏—Ä—É–π—Ç–µ –≤—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ —É—Å–ª–æ–≤–∏—è 